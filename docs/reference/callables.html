<!-- This file was automatically generated from Markdown or JSON source files.
     DO NOT edit this file directly but look for the according source file! --><!DOCTYPE html><html><head><link href="https://thbwd.github.io/emojifont/emojicode.css" rel="stylesheet"><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><link href="/static/css/docs.css" rel="stylesheet"><title>Emojicode Documentation &middot; Callables</title></head><body><nav class="menu" role="navigation"><a href="/">Emojicode</a><div class="menu-right"><a href="&#x2F;docs&#x2F;" class="active">Documentation</a> <a href="https://github.com/emojicode">GitHub</a></div></nav><header class="docs-header"><a href="&#x2F;docs&#x2F;" class="docs-header-title">Emojicode Documentation <span class="docs-header-version">Symphonic 0.6</span></a><div class="docs-header-right"><a href="&#x2F;docs&#x2F;guides">Guides</a> <a href="&#x2F;docs&#x2F;reference" class="active">Language Reference</a> <a href="&#x2F;docs&#x2F;packages">Package Index</a></div></header><div class="content"><div class="toc-wrapper"><div class="toc"><h2>The Language Reference &amp; Guide</h2><ol data-gumshoe><li><a href="welcome.html" class="chapter-link">Welcome to Emojicode</a></li><li><a href="basics.html" class="chapter-link">The Basics</a></li><li><a href="syntax.html" class="chapter-link">Syntax</a></li><li><a href="variables.html" class="chapter-link">Variables and Assignment</a></li><li><a href="controlflow.html" class="chapter-link">Control Flow</a></li><li><a href="the-s-package.html" class="chapter-link">The s package</a></li><li><a href="classes-valuetypes.html" class="chapter-link">Classes &amp; Value Types</a></li><li><a href="operators.html" class="chapter-link">Operators</a></li><li><a href="optionals.html" class="chapter-link">Optionals</a></li><li><a href="errors.html" class="chapter-link">Error Handling</a></li><li><a href="extensions.html" class="chapter-link">Extensions</a></li><li><a href="inheritance.html" class="chapter-link">Inheritance and Overriding</a></li><li><a href="protocols.html" class="chapter-link">Protocols</a></li><li><a href="enums.html" class="chapter-link">Enumerations</a></li><li><a href="types.html" class="chapter-link">Types and Namespaces</a></li><li><a href="typevalues.html" class="chapter-link">Types As Values</a></li><li><a href="documentation.html" class="chapter-link">Documentation</a></li><li><a href="generics.html" class="chapter-link">Generics</a></li><li><a href="callables.html" class="chapter-link current">Callables</a><ul><li><a href="#type" class="section-link">Type</a></li><li><a href="#calling-a-callable" class="section-link">Calling a Callable</a></li><li><a href="#closure" class="section-link">Closure</a></li></ul></li><li><a href="packages.html" class="chapter-link">Packages</a></li><li><a href="threads.html" class="chapter-link">Threads</a></li><li><a href="safety.html" class="chapter-link">Safe and Unsafe Code</a></li><li><a href="compiler.html" class="chapter-link">Appendix: The Emojicode Compiler</a></li></ol></div></div><h1 id="callables">Callables</h1><div class="callout-caution"><div class="title">Caution</div><div class="text"><p>This chapter has not been revised for Emojicode Symphonic alpha yet.</p></div></div><p>Emojicode supports a type called <em>callables</em> which is comparable to function types in other programming languages. Callables are objects like any other object and can therefore be stored in variables, passed as argument, etc.</p><h2 id="type">Type</h2><p>The callable type is declared using this syntax:</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-callable-type">callable-type</span> ⟶ 🍇 [<a href="callables.html#srule-type-list" class="syntax-placeholder">type-list</a>] [<a href="classes-valuetypes.html#srule-return-type" class="syntax-placeholder">return-type</a>] 🍉
<span class="syntax-placeholder" id="srule-type-list">type-list</span> ⟶ <a href="types.html#srule-type" class="syntax-placeholder">type</a> | <a href="types.html#srule-type" class="syntax-placeholder">type</a> <a href="callables.html#srule-type-list" class="syntax-placeholder">type-list</a>
</code></pre><p>Each <em>type</em> stands for one argument of that type. You can specify a <em>returnType</em>. If no return type is specified the callable is assumed to return Nothingness.</p><p>Examples:</p><pre><code>🍇🔢➡️🔡🍉 👴Takes an integer argument and returns a string
🍇➡️🔣🍉 👴Takes no arguments and returns a symbol
🍇🍉 👴Takes no arguments and returns nothing(ness).
</code></pre><h2 id="calling-a-callable">Calling a Callable</h2><p>The 🍭 must be used to call a callable.</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-callable-call">callable-call</span> ⟶ 🍭 <a href="syntax.html#srule-expression" class="syntax-placeholder">expression</a> [<a href="classes-valuetypes.html#srule-arguments" class="syntax-placeholder">arguments</a>]
</code></pre><p><em>expression</em> must be a callable. Of course you must provide the required number of correctly typed parameters.</p><p>Example of calling a callable:</p><pre><code>👴 greet is of type 🍇🔡🍉
🍭 greet 🔤Bob🔤
</code></pre><h2 id="closure">Closure</h2><p>Closures are blocks of code that are not immediately executed but remember the context in which they were created, i.e. the variables and the context of the method, and can be passed around. The type of a closure is, of course, a callable.</p><p>A closure is created by a block of code that appears when an expression is expected. This means that every code block that is not part of an 🍊, 🍓, or 🍋 🔂 or 🔁 statement or a method or initializer declaration, is a closure.</p><p>In contrast to a normal code block, a closure can define arguments and a return type similar to a method.</p><p>Formally, its syntax is:</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-closure">closure</span> ⟶ 🍇 [<a href="classes-valuetypes.html#srule-arguments" class="syntax-placeholder">arguments</a>] [<a href="classes-valuetypes.html#srule-return-type" class="syntax-placeholder">return-type</a>] <a href="controlflow.html#srule-statements" class="syntax-placeholder">statements</a> 🍉
</code></pre><p>Example:</p><pre><code>🍦 greet 🍇 name 🔡 ➡️ 🔡
  🍮 out 🔤🔤

  🔂 i ⏩ ➖ 🐔 name 1 -1 🍇
    🍮 out 📝 out 🍺 🐽 name i
  🍉

  🍎 out
🍉

😀🍭 greet 🔤Franz🔤
</code></pre><p>The above is a very simple example of a closure that simply reverses a given string and will output:</p><pre><code>znarF
</code></pre><p>Let’s take a look at a more advanced use of a closure:</p><pre><code>🐇🐖 🙋 name 🔡 ➡️ 🍇🔢➡️🔡🍉 🍇
  🍎 🍇 hour 🔢 ➡️ 🔡
    🍊 😛 hour 12 🍇
      🍎 🍪 🔤Have a good lunch, 🔤 name🍪
    🍉
    🍎 🍪 🔤Hello, 🔤 name🍪
  🍉
🍉
</code></pre><p>Here we’ve got a type method that returns a closure. The closure actually closes over the <code>name</code> variable here and copies it value so that it can be used when the closure is called later.</p><div class="callout-caution"><div class="title">Caution</div><div class="text"><p>Closures <strong>copy</strong> the closured <strong>local variables</strong> and freeze them in the scope of the closure. If you modify one of the copied variable only the copy local to the closure will be modified.</p><p><strong>Instance variables</strong> are <strong>not copied</strong> and really change when modified inside a closure.</p></div></div><p>Now, if we call that type method we’ll get a closure:</p><pre><code>🍦 walfriedGreeter 🍩🙋🐀 🔤Walfried🔤
</code></pre><p>We can call the closure with an argument for <code>hour</code></p><pre><code>😀 🍭 walfriedGreeter 7
😀 🍭 walfriedGreeter 12
</code></pre><p>and will get this:</p><pre><code>Hello, Walfried
Have a good lunch, Walfried
</code></pre><div class="book-navigation-bottom"><a href="generics.html" class="left">← Previous </a><a href="packages.html" class="right">Next Up: “Packages” →</a></div><div class="book-improve">Want to improve this page? <a href="https://github.com/emojicode/emojicode.github.io/blob/master/src&#x2F;reference&#x2F;callables.md" target="_blank">You can edit the source on GitHub and send us a pull request!</a></div></div><script src="/static/js/gumshoe.min.js"></script><script>gumshoe.init({ activeClass: 'current', offset: 80 });</script><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);loadCSS('http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/xcode.min.css');</script></body></html>